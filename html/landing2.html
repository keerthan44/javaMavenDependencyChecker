<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script
      src="https://code.jquery.com/jquery-3.6.1.min.js"
      integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
      crossorigin="anonymous"
    ></script>

    <title>Landing HTML</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

    <link rel="stylesheet" href="/home/keerthan/code/hackathons/sem3/hallothon/Dependency_checker_san/css/styles.css">

</head>
<body>

    <div class="bg-image"></div>

    <div class="bg-text">
        <div class="main">


            <div class="main1">
        
              <div class="box1">
                <div id="box5">
                  <h1>Transitive Dependencies</h1>
                </div>
                <div id="box9">
                    <div class="old">
                        <form id="button1">
                            <button class="btn btn-dark" type="submit" value="submit" nm="button1">Older Versions</button>
                        </form>
                        
                        <textArea rows = '30' cols = '60' id="textarea1"></textArea>
                    </div>
                    
                    <div class="new">
                        <form id="button2">
                            <button class="btn btn-dark" type="submit" value="submit" nm="button2">Latest Versions</button>
                        </form>
                        <textArea rows = '30' cols = '60' id="textarea2"></textArea>
                    </div>
                    
                    <div class="goBack"><a href="/home/keerthan/code/hackathons/sem3/hallothon/Dependency_checker_san/html/landing.html">
                        <button class="btn btn-dark">Go Back</button>
                    </div>
                    

                </div>
                
               </div>

            </div>
          
        </div>




    
    
        <script >
            $(document).ready(function () {
            $("#button1").submit(function (e) {
                console.log('inside ajax1')
                e.preventDefault();
                $.ajax({
                type: "GET",
                url: "http://127.0.0.1:5000/trdpd1",
                crossDomain: true,
                success: function (resultData) {
                    console.log("success");
                    console.log(resultData);
                    const textarea = document.getElementById("textarea1");
                    console.log(Object.keys(resultData).length);
                    console.log(resultData)
                    for (let i = 0; i < Object.keys(resultData).length; i++) {
                        var num = resultData[i][0];
                        textarea1.value += "\r\n"+ "\t".repeat(num)+ resultData[i][1];
                    }
                    console.log(textarea1.value);
                },
                error: (result) => {
                    console.log("error");
                    console.log(result);
                },
                });
            });
            });
    
            $(document).ready(function () {
            $("#button2").submit(function (e) {
                console.log('inside ajax2')
                e.preventDefault();
                $.ajax({
                type: "GET",
                url: "http://127.0.0.1:5000/latest",
                crossDomain: true,
                success: function (resultData) {
                    console.log("success");
                    console.log(resultData);
                    const textarea = document.getElementById("textarea2");
                    console.log(Object.keys(resultData).length);
                    console.log(resultData)
                    for (let i = 0; i < Object.keys(resultData).length; i++) {
                        var num = resultData[i][0];
                        textarea2.value += "\r\n"+ "\t".repeat(num)+ resultData[i][1];
                    }
                    console.log(textarea2.value);
                },
                error: (result) => {
                    console.log("error");
                    console.log(result);
                },
                });
            });
            });
    
    
            
        </script>
        
    
</body>
</html>